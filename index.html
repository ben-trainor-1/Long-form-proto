<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round"
        rel="stylesheet">
    <link rel="stylesheet" href="main.css">
    
</head>

<body class="row bg-dark m-0 p-0">

    <!-- Offcanvas items

        General
            Status dropdown
            Condition dropdown
        Dealer (very big)
            Dealer name
            Lot name
            Sales person
            StreetAddress
            City
            State
            Zip
            Phone
            Cell phone
            fax
            Email address
            EIN
            Commission $
            Date paid
        Manufacturer (also very big)
            Name
            Attention to
            Streeet address
            City
            State
            Zip
            Phone
            Cell phone
            Fax
            Email
        Delivery
            Date scheduled to lot
            Date delivered to lot
            Assigned driver
            Cost
            Date paid
            Date scheduled to custoemr
            Date delivered to customer
            Assigned driver
            Cost
            Date paid
        Comments
            Inhouse
            Dealer
            Logistics
        Labor costs
            Builder
            Cost
            Date paid
            Roofer
            Cost
            Date paid
        File upload
            File list
            Choose file
            Upload
            Number of documents added
        Scheduling (big old thing)
        Repairs (redirects to other page?)
        Print customer (hopefully shouldn't be a huge problem...)
            Generates pdf form
        Save/delete (lol)
            Replace with Danger zone! Delete building
            Put at very bottom
        
        
    -->
        
    
    
    <form id="building_form" action="" class="row col-12 m-0 p-0">
        
        <div id="building_form_dropdowns" class="row m-0 p-0 py-2 px-lg-0 px-2 bg-insight-primary position-sticky sticky-top shadow">

            <div class="row col-lg-2 m-0 p-0"></div>
            
            <div class="row col-lg-8 m-0 p-0">
                
                <!-- Next building number? Might be the back button? -->
                <div class="row col-4 m-0 p-0">

                </div>

                <!-- Save changes button -->
                <div class="row col-xxl-1 d-xxl-flex d-none m-0 p-0"></div>
                <div class="row col-xxl-2 col-4 m-0 p-0">
                    <button id="save_button" class="btn btn-light text-dark border-0 fw-bold" type="submit" disabled>No changes</button>
                </div>
                <div class="row col-xxl-1 d-xxl-flex d-none m-0 p-0"></div>
                
                <!-- Jump to dropdown menu -->
                <div class="row col-2 m-0 p-0"></div>
                <div class="row col-2 m-0 p-0">
                    <button id="dropdown_button" type="button" class="btn btn-dark dropdown-toggle fw-bold" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">Jump to</button>
                    <div class="col-2 dropdown-menu dropdown-menu-end text-white bg-gradient bg-dark shadow m-0 p-2">
                        <li class="mb-1">
                            <a href="#order_details" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">article</span>
                                Order Details
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#building_options" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">post_add</span>
                                Building Options
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#miscellaneous" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">help_outline</span>
                                Referral
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#customer" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">person</span>
                                Customer
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#reference_primary" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">recent_actors</span>
                                References
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#building_location" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">place</span>
                                Location
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#landlord_information" id="nav_landlord_information" class="dropdown-item d-flex m-0 p-2 visually-hidden">
                                <span class="material-icons-round me-2">real_estate_agent</span>
                                Landlord
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#calculations" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">functions</span>
                                Calculations
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#payments" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">payments</span>
                                Payments
                            </a>
                        </li>
                        <li class="mb-1">
                            <a href="#esignatures" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">draw</span>
                                E-signatures
                            </a>
                        </li>
                        <li>
                            <a href="#forms" class="dropdown-item d-flex m-0 p-2">
                                <span class="material-icons-round me-2">assignment</span>
                                Forms
                            </a>
                        </li>
                    </div>
            
                </div>
            
            </div>

        </div>

    </div>

    <div class="col-xxl-2 col-xl-1 m-0 p-0"></div>

    <div id="main_form" class="bg-light row col-xxl-8 col-xl-10 m-0 mb-4 mt-3 p-0 px-2 rounded" 
        data-bs-root-margin="0px 0px -40%" 
        data-bs-smooth-scroll="true"
        data-bs-rootMargin="-5% 0% -100% 0%"
        >

        <!-- Fixed quick access menu for sections of the page -->
        <!-- IDs
            order_details
            building_details
            building_options
            miscellaneous
            customer
            reference_primary
            building_location
            landlord_information
            calculations
            payments
            esignatures
            forms
         -->


        <!--  

            CLASSES:

                .ignore-field
                    - For use with fields that should not have their changes tracked
                    - Prevents any effect on dyanmically disabled/enabled save button
                .hidden-section
                    - Add to checkboxes that correspond to a visually-hidden section
                    - Pretty much just used to create onclick events
                .required-toggle
                    - For use with required fields that are in visually-hidden divs
                    - Prevents the fields from being required when sections are inactive/hidden
                .manual-price-toggle
                    - For use with calculations input fields that should have the option for manual entry
                .manual-address
                    - For use with checkboxes that enable/disable manual address entry
                .radio-section
                    - Allows for CSS styling and change tracking logic
                    - Usage ex:
                        <div class="radio-section">
                            <label>My Label</label>
                            <div class="form-check">
                                <input name="radio_group_1" id="radio_1" type="radio" class="form-check-input">
                                <label for="radio_1" class="form-check-label">Radio button 1</label>
                            </div>
                            <div class="form-check">
                                <input name="radio_group_1" id="radio_2" type="radio" class="form-check-input">
                                <label for="radio_2" class="form-check-label">Radio button 2</label>
                            </div>
                        </div>
                .edited
                    - Should never need to be added manually
                    - Dyamically added/removed as changes are made to the form
                .search-icon
                    - For use mostly with address searching fields' icons, but could be used for other icons/fields
                    - Make this the only class on an img element following a text input field
                .search-input
                    - For use mostly with address searching fields, but could be used for other things
                    - Just adds padding on the inside to prevent search icon from overlapping input text

            IDS:

            
        -->


        <!-- Next avail building number -->


        <!-- Order details -->
        <div id="order_details" class="row col-12 m-0 p-0 main-form-section">

            <!-- HEADER -->
            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Order Details</div>
                
            <!-- OPTIONS -->
            <div class="col-xxl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">

                <!-- Transaction type -->
                <div id="container_transactionType" class="col-md-4 col-6 m-0 p-2 text-start radio-section">
                    <label class="fw-bold m-0 p-0">Transaction type</label>
                    <div class="form-check">
                        <input required name="container_transactionType" id="input_cash" type="radio" class="form-check-input radio_transactionType" checked>
                        <label for="input_cash" class="form-check-label">Cash</label>
                    </div>
                    <div class="form-check">
                        <input required name="container_transactionType" id="input_rto" type="radio" class="form-check-input radio_transactionType">
                        <label for="input_rto" class="form-check-label">RTO</label>
                    </div>
                    <div class="form-check">
                        <input required name="container_transactionType" id="input_stock" type="radio" class="form-check-input radio_transactionType">
                        <label for="input_stock" class="form-check-label">Stock</label>
                    </div>
                </div>

                <!-- Order Type -->
                <div id="container_orderType" class="col-md-4 col-6 m-0 p-2 text-start radio-section">
                    <label class="fw-bold m-0 p-0">Order Type</label>
                    <div class="form-check">
                        <input required name="container_orderType" id="input_normal" type="radio" class="form-check-input" checked>
                        <label for="input_normal" class="form-check-label">Normal order</label>
                    </div>
                    <div class="form-check">
                        <input required name="container_orderType" id="input_special" type="radio" class="form-check-input">
                        <label for="input_special" class="form-check-label">Special order</label>
                    </div>
                </div>

                <!-- Inventory and sale dates -->
                <div class="col-md-4 col-6 m-0 p-2 text-start">
                    <div class="row m-0 p-0 mb-1">
                        <label for="input_inventoryDate" class="form-label fw-bold m-0 p-0">Inventory date</label>
                        <input required id="input_inventoryDate" type="date" class="form-control m-0 px-2 py-1">
                    </div>
                    <div class="row m-0 p-0">
                        <label for="input_saleDate" class="form-label fw-bold m-0 p-0">Sale date</label>
                        <input id="input_saleDate" type="date" class="form-control m-0 px-2 py-1">
                    </div>
                </div>

            </div>
            
        </div>

        <!-- Building details -->
        <div id="building_details" class="row col-12 m-0 p-0 main-form-section">
            
            <!-- HEADER -->
            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Building details</div>
            
            <!-- OPTIONS -->
            <div class="col-xxl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">

                <!-- 
                    Shed: shed type, roof type, size, custom size
                        siding, door, roof, trim/door trim
                    Crossbucks

                    Serial, generate
                    Assign serial
                -->

                <!-- Manufacturer, dealer name, lot, sales person -->
                <div class="col-12 m-0 p-2 text-start">

                    <!-- Manufacturer and dealer name -->
                    <div class="row m-0 p-0 mb-3">
                        <div class="col-6 m-0 p-0 pe-3">
                            <label for="input_manufacturer" class="row fw-bold m-0 p-0">Manufacturer</label>
                            <select required id="input_manufacturer" class="form-select m-0 p-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                        <div class="col-6 m-0 p-0 ps-3">
                            <label for="input_dealerName" class="row fw-bold m-0 p-0">Dealer name</label>
                            <select required id="input_dealerName" class="form-select m-0 p-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                    </div>
                    <!-- Lot and sales person -->
                    <div class="row m-0 p-0 mb-3">
                        <div class="col-6 m-0 p-0 pe-3">
                            <label for="input_lot" class="row fw-bold m-0 p-0">Lot</label>
                            <select required id="input_lot" class="form-select m-0 p-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                        <div class="col-6 m-0 p-0 ps-3">
                            <label for="input_salesPerson" class="row fw-bold m-0 p-0">Sales person</label>
                            <select required id="input_salesPerson" class="form-select m-0 p-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>
                    
                    <!-- Shed details -->
                    <div class="row m-0 p-0 mb-3">
                        <div class="col-6 m-0 p-0 pe-3">
                            <label for="input_shedType" class="row fw-bold m-0 p-0">shedType</label>
                            <select id="input_shedType" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                        <div class="col-6 m-0 p-0 ps-3">
                            <label for="input_roofType" class="row fw-bold m-0 p-0">roofType</label>
                            <select id="input_roofType" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                    </div>
                    <div class="row m-0 p-0 mb-3">
                        <div class="col-6 m-0 p-0 pe-3">
                            <label for="input_size" class="row fw-bold m-0 p-0">size</label>
                            <select id="input_size" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                        <div class="col-6 m-0 p-0 ps-3">
                            <label for="input_customSize" class="row fw-bold m-0 p-0">customSize</label>
                            <input id="input_customSize" type="text" class="form-control m-0 px-2 py-1" disabled>
                        </div>
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>

                    <!-- Colors -->
                    <div class="row m-0 p-0 mb-3 justify-content-center">

                        <!-- Siding, roof, trim -->
                        <div class="col-lg-4 col-6 m-0 p-0 pe-3">
                            <label for="input_sidingColor" class="row fw-bold m-0 p-0">sidingColor</label>
                            <select id="input_sidingColor" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>

                        
                        <div class="col-lg-4 col-6 m-0 p-0 px-lg-3 ps-3">
                            <label for="input_roofColor" class="row fw-bold m-0 p-0">roofColor</label>
                            <select id="input_roofColor" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>
                        
                        <div class="row m-0 mb-lg-0 mb-3 p-0 d-lg-none d-flex"></div>
                        
                        <div class="col-lg-4 col-6 m-0 p-0 ps-lg-3 pe-3">
                            <label for="input_trimColor" class="row fw-bold m-0 p-0">trimColor</label>
                            <select id="input_trimColor" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>

                        <div class="row m-0 mb-lg-3 p-0 d-lg-flex d-none"></div>

                        <!-- Door and door trim -->
                        <div class="col-lg-4 col-6 m-0 p-0 pe-lg-3 ps-3">
                            <label for="input_doorColor" class="row fw-bold m-0 p-0">doorColor</label>
                            <select id="input_doorColor" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>

                        <div class="row m-0 mb-lg-0 mb-3 p-0 d-lg-none d-flex"></div>
                        
                        <div class="col-lg-4 col-6 m-0 p-0 ps-3">
                            <label for="input_doorTrimColor" class="row fw-bold m-0 p-0">doorTrimColor</label>
                            <select id="input_doorTrimColor" class="form-select m-0 px-2 py-1">
                                <option value="-1" selected disabled>None</option>
                                <option value="1"></option>
                                <option value="2"></option>
                                <option value="3"></option>
                            </select>
                        </div>

                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>

                    <!-- Premium, crossbucks -->
                    <div class="row m-0 p-0 mb-3 justify-content-center">

                        <!-- HEADER -->
                        <div class="fw-bold fs-5 m-0 mb-2 p-0 text-center">Other options</div>

                        <div class="row col-5 m-0 p-0 mb-1 align-items-center">

                            <div class="form-check">
                                <input name="input_crossbucks" id="input_crossbucks" type="checkbox" class="form-check-input">
                                <label for="input_crossbucks" class="form-check-label">Add crossbucks</label>
                            </div>

                        </div>

                        <div id="input_premiumOption" class="row col-3 m-0 p-0 mb-1 justify-content-center radio-section">
                            <div class="form-check">
                                <input name="input_premiumOption" id="input_standard" type="radio" class="form-check-input">
                                <label for="input_standard" class="form-check-label">standard</label>
                            </div>
                            <div class="form-check">
                                <input name="input_premiumOption" id="input_premium" type="radio" class="form-check-input">
                                <label for="input_premium" class="form-check-label">premium</label>
                            </div>

                        </div>
                        
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>

                    <!-- Serial number -->
                    <div class="row m-0 px-3 py-3 justify-content-center bg-dark rounded text-light">

                        <div class="row m-0 p-0 mb-1 align-items-center">

                            <!-- TODO: rework this to just have serial field displayed separately and the generate serial is only a button -->
                            
                            <!-- Auto serial -->
                            <div class="row m-0 p-0 fw-bold">
                                generateSerial
                            </div>
                            <div class="row m-0 mb-3 p-0 justify-content-center">
                                <div class="col-lg-7 p-0 pe-lg-3 m-0 mb-lg-0 mb-3">
                                    <input id="input_autoSerial" type="text" class="form-control m-0 px-2 py-1">
                                </div>
                                <div class="row col-lg-5 p-0 ps-lg-3 m-0">
                                    <button id="btn_generateSerial" class="btn btn-primary m-0 p-lg-0 p-2">generateSerial</button>
                                </div>
                            </div>
                            
                            <!-- Typed serial -->
                            <div class="row m-0 p-0">
                                <label for="input_typedSerial" class="fw-bold m-0 p-0">typedSerial</label>
                            </div>
                            <div class="row m-0 p-0 justify-content-center">
                                <div class="col-lg-7 p-0 pe-lg-3 m-0 mb-lg-0 mb-3">
                                    <input id="input_typedSerial" type="text" class="form-control m-0 px-2 py-1">
                                </div>
                                <div class="row col-lg-5 p-0 ps-lg-3 m-0">
                                    <button id="btn_assignSerial" class="btn btn-primary m-0 p-lg-0 p-2">typedSerial</button>
                                </div>
                            </div>

                        </div>

                    </div>

                    
                    
                </div>

            </div>
            
        </div>

        <!-- Building options -->
        <div id="building_options" class="row col-12 m-0 p-0 main-form-section">
            
            <!-- HEADER -->
            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Building options</div>

            <!-- OPTIONS -->
            <!-- <div class="col-xxl-2 col-xl-1 m-0 p-0"></div> -->
            <div class="row m-0 mb-3 p-0 justify-content-center">

                <!-- Options -->
                <div class="row col-xl-6 col-lg-8 col-md-10 m-0 p-0 mb-3 justify-content-center bg-white p-3 rounded border">

                    <!-- Option dropdown -->
                    <div class="row m-0 mb-3 p-0">
                        <label for="input_option" class="fw-bold m-0 p-0">option</label>
                        <select id="input_option" class="form-select m-0 px-2 py-1 ignore-field">
                            <option value="-1" disabled selected>None</option>
                            <option value="1"></option>
                            <option value="2"></option>
                            <option value="3"></option>
                        </select>
                    </div>
                    <!-- Quantity -->
                    <div class="col-6 m-0 mb-4 p-0 pe-1">
                        <label for="input_optionQuantity" class="fw-bold m-0 p-0">optionQuantity</label>
                        <input id="input_optionQuantity" class="form-control m-0 px-2 py-1 ignore-field" type="number" min="1">
                    </div>
                    <!-- Cost -->
                    <div class="col-6 m-0 mb-4 p-0 ps-1">
                        <label for="input_optionCost" class="fw-bold m-0 p-0">optionCost</label>
                        <input id="input_optionCost" class="form-control m-0 px-2 py-1 ignore-field" type="text" disabled>
                    </div>
                    <!-- Add option -->
                    <div class="row col-5 m-0 mb-3 p-0">
                        <button id="btn_addOption" class="btn btn-primary m-0">addOption</button>
                    </div>
                    
                    <!-- Custom options -->
                    <div class="m-0 mb-3 p-0">
                        <label for="input_customOption" class="fw-bold m-0 p-0">customOption</label>
                        <input id="input_customOption" class="form-control m-0 px-2 py-1 ignore-field" type="text">
                    </div>
                    <!-- Quantity -->
                    <div class="col-6 m-0 mb-4 p-0 pe-1">
                        <label for="input_customOptionQuantity" class="fw-bold m-0 p-0 px-1">customOptionQuantity</label>
                        <input id="input_customOptionQuantity" class="form-control m-0 px-2 py-1 ignore-field" type="number" min="1">
                    </div>
                    <!-- Cost -->
                    <div class="col-6 m-0 mb-4 p-0 ps-1">
                        <label for="input_customOptionCost" class="fw-bold m-0 p-0 px-1">customOptionCost</label>
                        <input id="input_customOptionCost" class="form-control m-0 px-2 py-1 ignore-field" type="text">
                    </div>
                    <!-- Add option -->
                    <div class="row col-5 m-0 mb-3 p-0">
                        <button id="btn_addCustomOption" class="btn btn-primary m-0">addCustomOption</button>
                    </div>

                </div>

                <!-- Display options -->
                <div class="row m-0 p-0 justify-content-center">
                    Display options in a table here
                </div>
                
            </div>
            
        </div>

        <!-- Miscellaneous -->
        <div id="miscellaneous" class="row col-12 m-0 mb-3 p-0 main-form-section">

            <!-- HEADER -->
            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Referral</div>
            
            <!-- OPTIONS -->
            <div class="col-xl-3 col-lg-2 col-sm-1 m-0 p-0"></div>
            <div class="row col-xl-6 col-lg-8 col-sm-10 m-0 mb-3 bg-white p-3 rounded border">

                <div class="row m-0 p-0 mb-3 justify-content-center">
                    <label for="input_referral" class="row fw-bold m-0 p-0">referral</label>
                    <select id="input_referral" class="form-select m-0 px-2 py-1" required>
                        <option value="-1" disabled selected>None</option>
                        <option value="1"></option>
                        <option value="2"></option>
                        <option value="3"></option>
                    </select>
                </div>

                <div class="row m-0 p-0 justify-content-center">
                    <label for="input_description" class="row fw-bold m-0 p-0">description</label>
                    <textarea id="input_description" class="form-control m-0 px-2 py-1" rows="4" required></textarea>
                </div>
                
            </div>
            
        </div>
        <!--  
            Why is this in the middle of the form?
        -->

        <!-- Customer -->
        <div id="customer" class="row col-12 m-0 p-0 main-form-section">

            <!-- HEADER -->
            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Customers</div>

            <!-- OPTIONS -->
            <div class="col-xxl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">

                <!-- FIRST CUSTOMER -->
                <div id="primary_customer" class="row col-12 m-0 mb-3 p-0">
                    <div class="row col-12 fw-bold fs-5 m-0 mb-3 p-0"><span class="text-center m-0 p-0">Primary customer</span></div>
                    <!-- Customer name -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_customerName" class="form-check-label fw-bold m-0 p-0">customerName</label>
                        <input id="input_customerName" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Birth date -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_customerBirthDate" class="form-check-label fw-bold m-0 p-0">customerBirthDate</label>
                        <input id="input_customerBirthDate" class="form-control px-2 py-1" type="date">
                    </div>
                    <!-- Email -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_customerEmail" class="form-check-label fw-bold m-0 p-0">customerEmail</label>
                        <input id="input_customerEmail" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Social security number -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_customerSSN" class="form-check-label fw-bold m-0 p-0">customerSSN</label>
                        <input id="input_customerSSN" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Phone number -->
                    <div class="col-4 m-0 mb-3 p-0 pe-1">
                        <label for="input_customerPhone" class="form-check-label fw-bold m-0 p-0">customerPhone</label>
                        <input id="input_customerPhone" class="form-control px-2 py-1" type="tel">
                    </div>
                    <!-- Cell phone number -->
                    <div class="col-4 m-0 mb-3 p-0 px-1">
                        <label for="input_customerCellPhone" class="form-check-label fw-bold m-0 p-0">customerCellPhone</label>
                        <input id="input_customerCellPhone" class="form-control px-2 py-1" type="tel">
                    </div>
                    <div class="col-4"></div>
                    <!-- Driver's license number -->
                    <div class="col-4 m-0 mb-1 p-0 pe-1">
                        <label for="input_customerLicenseNumber" class="form-check-label fw-bold m-0 p-0">customerLicenseNumber</label>
                        <input id="input_customerLicenseNumber" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Driver's license issue date -->
                    <div class="col-4 m-0 mb-1 p-0 px-1">
                        <label for="input_customerLicenseIssue" class="form-check-label fw-bold m-0 p-0">customerLicenseIssue</label>
                        <input id="input_customerLicenseIssue" class="form-control px-2 py-1" type="date">
                    </div>
                    <!-- Driver's license expiration date -->
                    <div class="col-4 m-0 mb-1 p-0 ps-1">
                        <label for="input_customerLicenseExp" class="form-check-label fw-bold m-0 p-0">customerLicenseExp</label>
                        <input id="input_customerLicenseExp" class="form-control px-2 py-1" type="date">
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>
                    
                    <!-- ADDRESS -->
                    <!-- Search full address -->
                    <div class="row col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_customerSearchAddress" class="form-check-label fw-bold m-0 p-0">customerSearchAddress</label>
                        <input id="input_customerSearchAddress" class="form-control pe-2 py-1 search-input ignore-field" type="text">
                        <img src="travel_explore_FILL0_wght300_GRAD0_opsz48.png" class="search-icon">
                    </div>
                    <!-- Manual entry -->
                    <div class="col-12 m-0 mb-3 p-0 fw-bold">
                        <div class="form-check">
                            <input id="input_customer" type="checkbox" class="form-check-input manual-address ignore-field">
                            <label for="input_customer" class="form-check-label">customer</label>
                        </div>
                    </div>
                    <!-- Street address -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_customerStreetAddress" class="form-check-label fw-bold m-0 p-0">customerStreetAddress</label>
                        <input id="input_customerStreetAddress" class="form-control px-2 py-1" type="text" value="123 A St." disabled>
                    </div>
                    <!-- City -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_customerCity" class="form-check-label fw-bold m-0 p-0">customerCity</label>
                        <input id="input_customerCity" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- State -->
                    <div class="col-4 m-0 mb-3 p-0 pe-1">
                        <label for="input_customerState" class="form-check-label fw-bold m-0 p-0">customerState</label>
                        <input id="input_customerState" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- Zip -->
                    <div class="col-4 m-0 mb-3 p-0 px-1">
                        <label for="input_customerZip" class="form-check-label fw-bold m-0 p-0">customerZip</label>
                        <input id="input_customerZip" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- County -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_customerCounty" class="form-check-label fw-bold m-0 p-0">customerCounty</label>
                        <input id="input_customerCounty" class="form-control px-2 py-1" type="text" disabled>
                    </div>

                    <!-- Different mailing address check -->
                    <div class="m-0 p-2 px-3 bg-dark text-light rounded">
                        <div class="form-check">
                            <input id="input_customerDifferentMailing" type="checkbox" class="form-check-input hidden-section">
                            <label for="input_customerDifferentMailing" class="form-check-label">customerDifferentMailing</label>
                        </div>
                    </div>

                    <!-- Alternate mailing address -->
                    <div id="container_input_customerDifferentMailing" class="row col-12 m-0 mt-3 p-0 visually-hidden">

                        <div class="row col-12 fw-bold fs-5 m-0 mb-3 p-0"><span class="text-center m-0 p-2 text-bg-warning rounded">Alternate address</span></div>
                    
                        <!-- ADDRESS -->
                        <!-- Search full address -->
                        <div class="row col-8 m-0 mb-3 p-0 pe-1">
                            <label for="input_customerAlternateSearchAddress" class="form-check-label fw-bold m-0 p-0">customerAlternateSearchAddress</label>
                            <input id="input_customerAlternateSearchAddress" class="form-control pe-2 py-1 search-input ignore-field" type="text">
                            <img src="travel_explore_FILL0_wght300_GRAD0_opsz48.png" class="search-icon">
                        </div>
                        <!-- Manual entry -->
                        <div class="col-12 m-0 mb-3 p-0 fw-bold">
                            <div class="form-check">
                                <input id="input_customerAlternate" type="checkbox" class="form-check-input manual-address ignore-field">
                                <label for="input_customerAlternate" class="form-check-label">customerAlternate</label>
                            </div>
                        </div>
                        <!-- Street address -->
                        <div class="col-8 m-0 mb-3 p-0 pe-1">
                            <label for="input_customerAlternateStreetAddress" class="form-check-label fw-bold m-0 p-0">customerAlternateStreetAddress</label>
                            <input id="input_customerAlternateStreetAddress" class="form-control px-2 py-1" type="text" disabled value="123 Milky Way St.">
                        </div>
                        <!-- City -->
                        <div class="col-4 m-0 mb-3 p-0 ps-1">
                            <label for="input_customerAlternateCity" class="form-check-label fw-bold m-0 p-0">customerAlternateCity</label>
                            <input id="input_customerAlternateCity" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- State -->
                        <div class="col-4 m-0 mb-3 p-0 pe-1">
                            <label for="input_customerAlternateState" class="form-check-label fw-bold m-0 p-0">customerAlternateState</label>
                            <input id="input_customerAlternateState" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- Zip -->
                        <div class="col-4 m-0 mb-3 p-0 px-1">
                            <label for="input_customerAlternateZip" class="form-check-label fw-bold m-0 p-0">customerAlternateZip</label>
                            <input id="input_customerAlternateZip" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- County -->
                        <div class="col-4 m-0 mb-3 p-0 ps-1">
                            <label for="input_customerAlternateCounty" class="form-check-label fw-bold m-0 p-0">customerAlternateCounty</label>
                            <input id="input_customerAlternateCounty" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>

                    <!-- Employer -->
                    <div class="col-8 m-0 p-0 pe-1">
                        <label for="input_employer" class="form-check-label fw-bold m-0 p-0">employer</label>
                        <input id="input_employer" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Employer phone number -->
                    <div class="col-4 m-0 p-0 ps-1">
                        <label for="input_employerPhone" class="form-check-label fw-bold m-0 p-0">employerPhone</label>
                        <input id="input_employerPhone" class="form-control px-2 py-1" type="tel">
                    </div>
                </div>

                <!-- Additional customer -->
                <div class="row m-0 p-2 px-3 bg-dark text-light rounded">
                    <div class="form-check">
                        <input id="input_additionalCustomer" type="checkbox" class="form-check-input hidden-section">
                        <label for="input_additionalCustomer" class="form-check-label">additionalCustomer</label>
                    </div>
                </div>

                <!-- SECONDARY CUSTOMER -->
                <div id="container_input_additionalCustomer" class="row col-12 m-0 p-0 visually-hidden">
                    
                    <!-- Header -->
                    <div class="row col-12 fw-bold fs-5 m-0 my-3 p-0"><span class="text-center m-0 p-0">Secondary customer</span></div>
                    
                    <!-- Customer name -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_secondaryCustomerName" class="form-check-label fw-bold m-0 p-0">secondaryCustomerName</label>
                        <input id="input_secondaryCustomerName" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Birth date -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_secondaryCustomerBirthDate" class="form-check-label fw-bold m-0 p-0">secondaryCustomerBirthDate</label>
                        <input id="input_secondaryCustomerBirthDate" class="form-control px-2 py-1" type="date">
                    </div>
                    <!-- Email -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_secondaryCustomerEmail" class="form-check-label fw-bold m-0 p-0">secondaryCustomerEmail</label>
                        <input id="input_secondaryCustomerEmail" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Social security number -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_secondaryCustomerSSN" class="form-check-label fw-bold m-0 p-0">secondaryCustomerSSN</label>
                        <input id="input_secondaryCustomerSSN" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Phone number -->
                    <div class="col-4 m-0 mb-3 p-0 pe-1">
                        <label for="input_secondaryCustomerPhone" class="form-check-label fw-bold m-0 p-0">secondaryCustomerPhone</label>
                        <input id="input_secondaryCustomerPhone" class="form-control px-2 py-1" type="tel">
                    </div>
                    <!-- Cell phone number -->
                    <div class="col-4 m-0 mb-3 p-0 px-1">
                        <label for="input_secondaryCustomerCellPhone" class="form-check-label fw-bold m-0 p-0">secondaryCustomerCellPhone</label>
                        <input id="input_secondaryCustomerCellPhone" class="form-control px-2 py-1" type="tel">
                    </div>
                    <div class="col-4"></div>
                    <!-- Driver's license number -->
                    <div class="col-4 m-0 mb-1 p-0 pe-1">
                        <label for="input_secondaryCustomerLicenseNumber" class="form-check-label fw-bold m-0 p-0">secondaryCustomerLicenseNumber</label>
                        <input id="input_secondaryCustomerLicenseNumber" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Driver's license issue date -->
                    <div class="col-4 m-0 mb-1 p-0 px-1">
                        <label for="input_secondaryCustomerLicenseIssue" class="form-check-label fw-bold m-0 p-0">secondaryCustomerLicenseIssue</label>
                        <input id="input_secondaryCustomerLicenseIssue" class="form-control px-2 py-1" type="date">
                    </div>
                    <!-- Driver's license expiration date -->
                    <div class="col-4 m-0 mb-1 p-0 ps-1">
                        <label for="input_secondaryCustomerLicenseExp" class="form-check-label fw-bold m-0 p-0">secondaryCustomerLicenseExp</label>
                        <input id="input_secondaryCustomerLicenseExp" class="form-control px-2 py-1" type="date">
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>
                    
                    <!-- ADDRESS -->
                    <!-- Search full address -->
                    <div class="row col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_secondaryCustomerSearchAddress" class="form-check-label fw-bold m-0 p-0">secondaryCustomerSearchAddress</label>
                        <input id="input_secondaryCustomerSearchAddress" class="form-control pe-2 py-1 search-input ignore-field" type="text">
                        <img src="travel_explore_FILL0_wght300_GRAD0_opsz48.png" class="search-icon">
                    </div>
                    <!-- Manual entry -->
                    <div class="col-12 m-0 mb-3 p-0 fw-bold">
                        <div class="form-check">
                            <input id="input_secondaryCustomer" type="checkbox" class="form-check-input manual-address ignore-field">
                            <label for="input_secondaryCustomer" class="form-check-label">secondaryCustomer</label>
                        </div>
                    </div>
                    <!-- Street address -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_secondaryCustomerStreetAddress" class="form-check-label fw-bold m-0 p-0">secondaryCustomerStreetAddress</label>
                        <input id="input_secondaryCustomerStreetAddress" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- City -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_secondaryCustomerCity" class="form-check-label fw-bold m-0 p-0">secondaryCustomerCity</label>
                        <input id="input_secondaryCustomerCity" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- State -->
                    <div class="col-4 m-0 mb-3 p-0 pe-1">
                        <label for="input_secondaryCustomerState" class="form-check-label fw-bold m-0 p-0">secondaryCustomerState</label>
                        <input id="input_secondaryCustomerState" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- Zip -->
                    <div class="col-4 m-0 mb-3 p-0 px-1">
                        <label for="input_secondaryCustomerZip" class="form-check-label fw-bold m-0 p-0">secondaryCustomerZip</label>
                        <input id="input_secondaryCustomerZip" class="form-control px-2 py-1" type="text" disabled>
                    </div>
                    <!-- County -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_secondaryCustomerCounty" class="form-check-label fw-bold m-0 p-0">secondaryCustomerCounty</label>
                        <input id="input_secondaryCustomerCounty" class="form-control px-2 py-1" type="text" disabled>
                    </div>

                    <!-- Different mailing address -->
                    <div class="m-0 p-2 px-3 bg-dark text-light rounded">
                        <div class="form-check">
                            <input id="input_secondaryDifferentMailingAddress" type="checkbox" class="form-check-input hidden-section">
                            <label for="input_secondaryDifferentMailingAddress" class="form-check-label">secondaryDifferentMailingAddress</label>
                        </div>
                    </div>

                    <!-- Alternate mailing address -->
                    <div id="container_input_secondaryDifferentMailingAddress" class="row col-12 m-0 mt-3 p-0 visually-hidden">
                        <div class="row col-12 fw-bold fs-5 m-0 mb-3 p-0"><span class="text-center m-0 p-2 text-bg-warning rounded">Alternate address</span></div>
                    
                        <!-- ADDRESS -->
                        <!-- Search full address -->
                        <div class="row col-8 m-0 mb-3 p-0 pe-1">
                            <label for="input_secondaryCustomerAlternateSearchAddress" class="form-check-label fw-bold m-0 p-0">secondaryCustomerAlternateSearchAddress</label>
                            <input id="input_secondaryCustomerAlternateSearchAddress" class="form-control pe-2 py-1 search-input ignore-field" type="text">
                            <img src="travel_explore_FILL0_wght300_GRAD0_opsz48.png" class="search-icon">
                        </div>
                        <!-- Manual entry -->
                        <div class="col-12 m-0 mb-3 p-0 fw-bold">
                            <div class="form-check">
                                <input id="input_secondaryCustomerAlternate" type="checkbox" class="form-check-input manual-address ignore-field">
                                <label for="input_secondaryCustomerAlternate" class="form-check-label">secondaryCustomerAlternate</label>
                            </div>
                        </div>
                        <!-- Street address -->
                        <div class="col-8 m-0 mb-3 p-0 pe-1">
                            <label for="input_secondaryCustomerAlternateStreetAddress" class="form-check-label fw-bold m-0 p-0">secondaryCustomerAlternateStreetAddress</label>
                            <input id="input_secondaryCustomerAlternateStreetAddress" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- City -->
                        <div class="col-4 m-0 mb-3 p-0 ps-1">
                            <label for="input_secondaryCustomerAlternateCity" class="form-check-label fw-bold m-0 p-0">secondaryCustomerAlternateCity</label>
                            <input id="input_secondaryCustomerAlternateCity" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- State -->
                        <div class="col-4 m-0 mb-3 p-0 pe-1">
                            <label for="input_secondaryCustomerAlternateState" class="form-check-label fw-bold m-0 p-0">secondaryCustomerAlternateState</label>
                            <input id="input_secondaryCustomerAlternateState" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- Zip -->
                        <div class="col-4 m-0 mb-3 p-0 px-1">
                            <label for="input_secondaryCustomerAlternateZip" class="form-check-label fw-bold m-0 p-0">secondaryCustomerAlternateZip</label>
                            <input id="input_secondaryCustomerAlternateZip" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                        <!-- County -->
                        <div class="col-4 m-0 mb-3 p-0 ps-1">
                            <label for="input_secondaryCustomerAlternateCounty" class="form-check-label fw-bold m-0 p-0">secondaryCustomerAlternateCounty</label>
                            <input id="input_secondaryCustomerAlternateCounty" class="form-control px-2 py-1" type="text" disabled>
                        </div>
                    </div>

                    <!-- Horizontal line -->
                    <div class="row m-0 p-0 fw-bold border-bottom border-1 border-dark mt-4 mb-3"></div>

                    <!-- Employer -->
                    <div class="row col-8 m-0 p-0 pe-1">
                        <label for="input_secondaryEmployer" class="form-check-label fw-bold m-0 p-0">secondaryEmployer</label>
                        <input id="input_secondaryEmployer" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Employer phone number -->
                    <div class="row col-4 m-0 p-0 ps-1">
                        <label for="input_secondaryEmployerPhone" class="form-check-label fw-bold m-0 p-0">secondaryEmployerPhone</label>
                        <input id="input_secondaryEmployerPhone" class="form-control px-2 py-1" type="tel">
                    </div>
                </div>


                
            </div>
            
        </div>

        <!-- Reference -->
        <div id="reference_primary" class="row col-12 m-0 p-0 main-form-section">

            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">References</div>

            <!-- OPTIONS -->
            <div class="col-xxl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">
                <div class="row col-12 fw-bold fs-5 m-0 mb-3 p-0"><span class="text-center m-0 p-0">Primary reference</span></div>

                <!-- NAME -->
                <!-- Reference name -->
                <div class="col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_referencePrimaryName" class="form-check-label fw-bold m-0 p-0">referencePrimaryName</label>
                    <input id="input_referencePrimaryName" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Relation -->
                <div class="col-4 m-0 mb-3 p-0 ps-1">
                    <label for="input_referencePrimaryRelation" class="form-check-label fw-bold m-0 p-0">referencePrimaryRelation</label>
                    <input id="input_referencePrimaryRelation" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Email -->
                <div class="col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_referencePrimaryEmail" class="form-check-label fw-bold m-0 p-0">referencePrimaryEmail</label>
                    <input id="input_referencePrimaryEmail" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Phone number -->
                <div class="col-4 m-0 mb-3 p-0 ps-1">
                    <label for="input_referencePrimaryPhone" class="form-check-label fw-bold m-0 p-0">referencePrimaryPhone</label>
                    <input id="input_referencePrimaryPhone" class="form-control px-2 py-1" type="tel">
                </div>

                <!-- ADDRESS -->
                <!-- Street address -->
                <div class="col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_referencePrimaryStreetAddress" class="form-check-label fw-bold m-0 p-0">referencePrimaryStreetAddress</label>
                    <input id="input_referencePrimaryStreetAddress" class="form-control px-2 py-1" type="text">
                </div>
                <!-- City -->
                <div class="col-4 m-0 mb-3 p-0 ps-1">
                    <label for="input_referencePrimaryCity" class="form-check-label fw-bold m-0 p-0">referencePrimaryCity</label>
                    <input id="input_referencePrimaryCity" class="form-control px-2 py-1" type="text">
                </div>
                <!-- State -->
                <div class="col-4 m-0 mb-3 p-0 pe-1">
                    <label for="input_referencePrimaryState" class="form-check-label fw-bold m-0 p-0">referencePrimaryState</label>
                    <input id="input_referencePrimaryState" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Zip -->
                <div class="col-4 m-0 mb-3 p-0 px-1">
                    <label for="input_referencePrimaryZip" class="form-check-label fw-bold m-0 p-0">referencePrimaryZip</label>
                    <input id="input_referencePrimaryZip" class="form-control px-2 py-1" type="text">
                </div>

                <!-- Secondary reference option -->
                <div class="row m-0 p-2 px-3 bg-dark text-light rounded">
                    <div class="form-check">
                        <input id="input_secondaryReference" type="checkbox" class="form-check-input hidden-section">
                        <label for="input_secondaryReference" class="form-check-label">secondaryReference</label>
                    </div>
                </div>

                <div id="container_input_secondaryReference" class="row col-12 m-0 mt-3 p-0 visually-hidden">
                    <div class="row col-12 fw-bold fs-5 m-0 mb-3 p-0"><span class="text-center m-0 p-0">Secondary reference</span></div>

                    <!-- Reference name -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_referenceSecondaryName" class="form-check-label fw-bold m-0 p-0">referenceSecondaryName</label>
                        <input id="input_referenceSecondaryName" class="form-control px-2 py-1" type="text" value="jimbob">
                    </div>
                    <!-- Relation -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_referenceSecondaryRelation" class="form-check-label fw-bold m-0 p-0">referenceSecondaryRelation</label>
                        <input id="input_referenceSecondaryRelation" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Email -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_referenceSecondaryEmail" class="form-check-label fw-bold m-0 p-0">referenceSecondaryEmail</label>
                        <input id="input_referenceSecondaryEmail" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Phone number -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_referenceSecondaryPhone" class="form-check-label fw-bold m-0 p-0">referenceSecondaryPhone</label>
                        <input id="input_referenceSecondaryPhone" class="form-control px-2 py-1" type="tel">
                    </div>

                    <!-- ADDRESS -->
                    <!-- Street address -->
                    <div class="col-8 m-0 mb-3 p-0 pe-1">
                        <label for="input_referenceSecondaryStreetAddress" class="form-check-label fw-bold m-0 p-0">referenceSecondaryStreetAddress</label>
                        <input id="input_referenceSecondaryStreetAddress" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- City -->
                    <div class="col-4 m-0 mb-3 p-0 ps-1">
                        <label for="input_referenceSecondaryCity" class="form-check-label fw-bold m-0 p-0">referenceSecondaryCity</label>
                        <input id="input_referenceSecondaryCity" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- State -->
                    <div class="col-4 m-0 p-0 pe-1">
                        <label for="input_referenceSecondaryState" class="form-check-label fw-bold m-0 p-0">referenceSecondaryState</label>
                        <input id="input_referenceSecondaryState" class="form-control px-2 py-1" type="text">
                    </div>
                    <!-- Zip -->
                    <div class="col-4 m-0 p-0 px-1">
                        <label for="input_referenceSecondaryZip" class="form-check-label fw-bold m-0 p-0">referenceSecondaryZip</label>
                        <input id="input_referenceSecondaryZip" class="form-control px-2 py-1" type="text">
                    </div>
                </div>
                
            </div>
            
        </div>

        <!-- Building location -->
        <div id="building_location" class="row col-12 m-0 p-0 main-form-section">

            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Building location</div>

            <!-- OPTIONS -->
            <div class="col-xxl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">

                <!-- Same as customer -->
                <div class="row m-0 mb-3 p-2 px-3 bg-dark text-light rounded">
                    <div class="form-check">
                        <input id="input_locationSameAsCustomer" type="checkbox" class="form-check-input">
                        <label for="input_locationSameAsCustomer" class="form-check-label">locationSameAsCustomer</label>
                    </div>
                </div>

                <!-- ADDRESS -->
                <!-- Search full address -->
                <div class="row col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_buildingSearchAddress" class="form-check-label fw-bold m-0 p-0">buildingSearchAddress</label>
                    <input id="input_buildingSearchAddress" class="form-control pe-2 py-1 search-input ignore-field" type="text">
                    <img src="travel_explore_FILL0_wght300_GRAD0_opsz48.png" class="search-icon">
                </div>
                <!-- Manual entry -->
                <div class="col-12 m-0 mb-3 p-0 fw-bold">
                    <div class="form-check">
                        <input id="input_building" type="checkbox" class="form-check-input manual-address ignore-field">
                        <label for="input_building" class="form-check-label">building</label>
                    </div>
                </div>
                <!-- Street address -->
                <div class="col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_buildingStreetAddress" class="form-check-label fw-bold m-0 p-0">buildingStreetAddress</label>
                    <input id="input_buildingStreetAddress" class="form-control px-2 py-1" type="text" disabled>
                </div>
                <!-- City -->
                <div class="col-4 m-0 mb-3 p-0 ps-1">
                    <label for="input_buildingCity" class="form-check-label fw-bold m-0 p-0">buildingCity</label>
                    <input id="input_buildingCity" class="form-control px-2 py-1" type="text" disabled>
                </div>
                <!-- State -->
                <div class="col-4 m-0 p-0 pe-1">
                    <label for="input_buildingState" class="form-check-label fw-bold m-0 p-0">buildingState</label>
                    <input id="input_buildingState" class="form-control px-2 py-1" type="text" disabled>
                </div>
                <!-- Zip -->
                <div class="col-4 m-0 p-0 px-1">
                    <label for="input_buildingZip" class="form-check-label fw-bold m-0 p-0">buildingZip</label>
                    <input id="input_buildingZip" class="form-control px-2 py-1" type="text" disabled>
                </div>
                <!-- County -->
                <div class="col-4 m-0 p-0 ps-1">
                    <label for="input_buildingCounty" class="form-check-label fw-bold m-0 p-0">buildingCounty</label>
                    <input id="input_buildingCounty" class="form-control px-2 py-1" type="text" disabled>
                </div>
                
            </div>
            
        </div>


        <!-- Landlord information | ONLY FOR RTO -->
        <div id="landlord_information" class="row col-12 m-0 p-0 visually-hidden main-form-section">

            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Landlord information</div>

            <!-- OPTIONS -->
            <div class="col-xxl-3 col-xl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-6 col-xl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">

                
                <!-- NAME -->
                <!-- Landlord name -->
                <div class="col-6 m-0 mb-3 p-0 pe-1">
                    <label for="input_landlordName" class="form-check-label fw-bold m-0 p-0">landlordName</label>
                    <input id="input_landlordName" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Contact name -->
                <div class="col-6 m-0 mb-3 p-0 ps-1">
                    <label for="input_landlordContactName" class="form-check-label fw-bold m-0 p-0">landlordContactName</label>
                    <input id="input_landlordContactName" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Email -->
                <div class="col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_landlordEmail" class="form-check-label fw-bold m-0 p-0">landlordEmail</label>
                    <input id="input_landlordEmail" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Phone number -->
                <div class="col-4 m-0 mb-3 p-0 ps-1">
                    <label for="input_landlordPhone" class="form-check-label fw-bold m-0 p-0">landlordPhone</label>
                    <input id="input_landlordPhone" class="form-control px-2 py-1" type="tel">
                </div>

                <!-- ADDRESS -->
                <!-- Street address -->
                <div class="col-8 m-0 mb-3 p-0 pe-1">
                    <label for="input_landlordStreetAddress" class="form-check-label fw-bold m-0 p-0">landlordStreetAddress</label>
                    <input id="input_landlordStreetAddress" class="form-control px-2 py-1" type="text">
                </div>
                <!-- City -->
                <div class="col-4 m-0 mb-3 p-0 ps-1">
                    <label for="input_landlordCity" class="form-check-label fw-bold m-0 p-0">landlordCity</label>
                    <input id="input_landlordCity" class="form-control px-2 py-1" type="text">
                </div>
                <!-- State -->
                <div class="col-4 m-0 p-0 pe-1">
                    <label for="input_landlordState" class="form-check-label fw-bold m-0 p-0">landlordState</label>
                    <input id="input_landlordState" class="form-control px-2 py-1" type="text">
                </div>
                <!-- Zip -->
                <div class="col-4 m-0 p-0 px-1">
                    <label for="input_landlordZip" class="form-check-label fw-bold m-0 p-0">landlordZip</label>
                    <input id="input_landlordZip" class="form-control px-2 py-1" type="text">
                </div>
                <!-- County -->
                <div class="col-4 m-0 p-0 ps-1">
                    <label for="input_landlordCounty" class="form-check-label fw-bold m-0 p-0">landlordCounty</label>
                    <input id="input_landlordCounty" class="form-control px-2 py-1" type="text">
                </div>
            
            </div>

        </div>

        <!-- Calculations -->
        <div id="calculations" class="row col-12 m-0 p-0 main-form-section">

            <div id="header_calculations" class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Calculations</div>

            <div class="col-xxl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-lg-10 m-0 mb-3 bg-white p-3 rounded border">

                <!-- CALCULATION OPTIONS -->
                <div id="options_calculation" class="row m-0 p-0">
                    <div id="noTransactionType" class="row col-12 m-0 mb-3 p-0 p-2 rounded fw-bold fst-italic text-bg-warning justify-content-center visually-hidden">No transaction type selected.</div>
                    <div class="row col-12 m-0 mb-3 p-2 px-3 bg-dark text-light rounded">
                        <!-- Manual pricing -->
                        <div class="row col-4 m-0 p-0">
                            <div class="form-check">
                                <input id="input_pricingManual" type="checkbox" class="form-check-input">
                                <label for="input_pricingManual" class="form-check-label">pricingManual</label>
                            </div>
                        </div>
                        <div id="taxExempt" class="row col-4 m-0 p-0">
                            <div class="form-check">
                                <input id="input_taxExempt" type="checkbox" class="form-check-input">
                                <label for="input_taxExempt" class="form-check-label">taxExempt</label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CASH -->
                <div id="calculation_cash" class="row col-12 m-0 mb-3 p-0">
                    
                    <table class="table bg-white border align-middle">
                        <thead class="text-center">
                            <tr><td class="fw-bold fs-4" colspan="4">Cash</td></tr>
                            <tr class="table-success">
                                <th class="col-1 m-0 p-2"></th>
                                <th class="col-5 m-0 p-2">Item</th>
                                <th class="col-4 m-0 p-2">Cost</th>
                                <th class="col-2 m-0 p-2"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Base price -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Base price <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_cash_basePrice" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_cash_basePrice" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Options -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Total options <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_cash_options" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_cash_options" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Discount -->
                            <tr class="border-bottom border-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Discount <span class="fw-bold ps-2">-</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_cash_discount" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_cash_discount" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Subtotal -->
                            <tr class="border-bottom border-dark table-secondary">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Subtotal <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="cash_subtotal1" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_cash_subtotal1" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- GAP -->
                            <tr class="border-bottom"><td class="p-3"></td></tr>
                            <!-- Sales tax rate -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Sales tax rate <span class="fw-bold ps-2">x</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_cash_salesTaxRate" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_cash_salesTaxRate" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Sales tax amount -->
                            <tr class="border-bottom border-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Sales tax amount <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_salesTaxAmount" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_salesTaxAmount" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Subtotal -->
                            <tr class="border-bottom border-dark table-secondary">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Subtotal <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="cash_subtotal2" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_cash_subtotal2" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- GAP -->
                            <tr class="border-bottom"><td class="p-3"></td></tr>
                            <!-- Other fees -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Other fees <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_cash_fees" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_cash_fees" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Total cost -->
                            <tr class="table-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Total cost <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="cash_total" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_cash_total" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                        </tbody>
                    </table>

                </div>

                <!-- RTO -->
                <div id="calculation_rto" class="row col-12 m-0 mb-3 p-0 visually-hidden">

                    <!-- Contract info -->
                    <table class="table bg-white border align-middle">
                        <thead class="text-center">
                            <tr><td class="fw-bold fs-4" colspan="4">Contract info</td></tr>
                            <tr class="border-0">
                                <th class="col-1 m-0 p-0 border-0"></th>
                                <th class="col-5 m-0 p-0 border-0"></th>
                                <th class="col-4 m-0 p-0 border-0"></th>
                                <th class="col-2 m-0 p-0 border-0"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Term -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Contract term (months)</td>
                                <td class="text-start">
                                    <select name="input_contractTerm" id="input_contractTerm" class="form-select m-0 p-0 px-2 py-1">
                                        <option value="-1" disabled selected>None</option>
                                        <option value="1"></option>
                                        <option value="2"></option>
                                        <option value="3"></option>
                                    </select>
                                </td>
                                <td class="fst-italic border-start text-center fs-7"></td>
                            </tr>
                            <!-- Term -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Payment due date</td>
                                <td class="text-start">
                                    <select name="input_paymentDueDate" id="input_paymentDueDate" class="form-select m-0 p-0 px-2 py-1">
                                        <option value="-1" disabled selected>None</option>
                                        <option value="1"></option>
                                        <option value="2"></option>
                                        <option value="3"></option>
                                    </select>
                                </td>
                                <td class="fst-italic border-start text-center fs-7"></td>
                            </tr>
                        </tbody>
                    </table>

                    <!-- Calculations -->
                    <table class="table bg-white border rounded align-middle">
                        <thead class="text-center">
                            <tr><td class="fw-bold fs-4" colspan="4">RTO</td></tr>
                            <tr class="table-success">
                                <th class="col-1 m-0 p-2"></th>
                                <th class="col-5 m-0 p-2">Item</th>
                                <th class="col-4 m-0 p-2">Cost</th>
                                <th class="col-2 m-0 p-2"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Base price -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Base price <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_basePrice" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_basePrice" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Total options -->
                            <tr class="border-bottom border-dark ">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Total options <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_totalOptions" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_totalOptions" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Retail price -->
                            <tr class="border-bottom border-dark table-secondary">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Retail price <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="rto_retailPrice" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_rto_retailPrice" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- GAP -->
                            <tr class="border-bottom"><td class="p-3"></td></tr>
                            <!-- Discount -->
                            <tr class="border-bottom border-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Discount <span class="fw-bold ps-2">-</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_discount" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_discount" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Sale price -->
                            <tr class="border-bottom border-dark table-secondary">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Sales price <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="rto_salesPrice" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_rto_salesPrice" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- GAP -->
                            <tr class="border-bottom"><td class="p-3"></td></tr>
                            <!-- Cost reduction -->
                            <tr class="border-bottom border-dark align-top">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Cost reduction <span class="fw-bold ps-2">-</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_costReduction" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr>
                                </table>
                                <div class="row col-12 m-0 px-2 pt-1 pb-0">
                                    <div class="form-check fs-6">
                                        <input id="input_overrideReductionLimit" type="checkbox" class="form-check-input">
                                        <label for="input_overrideReductionLimit" class="form-check-label">Override limit</label>
                                    </div>
                                </div>
                                <td id="auto_input_rto_costReduction" class="fst-italic border-start text-center fs-7 align-middle">[Automatic]</td>
                            </tr>
                            <!-- RTO amount -->
                            <tr class="border-bottom border-dark table-secondary">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">RTO amount <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="rto_rtoAmount" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_rto_rtoAmount" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- GAP -->
                            <tr class="border-bottom"><td class="p-3"></td></tr>
                            <!-- Loss damage waiver -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Loss damage waiver <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_lossDamageWaiver" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_lossDamageWaiver" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Base payment amount -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Base payment amount <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_basePayment" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_basePayment" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Sales tax rate -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Sales tax rate <span class="fw-bold ps-2">x</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_salesTaxRate" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_salesTaxRate" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Monthly sales tax -->
                            <tr class="border-bottom border-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Monthly sales tax <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_monthlySalesTax" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_monthlySalesTax" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Total monthly payment -->
                            <tr class="border-bottom border-dark table-secondary">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Total monthly payment <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="rto_totalMonthlyPayment" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_rto_totalMonthlyPayment" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- GAP -->
                            <tr class="border-bottom"><td class="p-3"></td></tr>
                            <!-- Security deposit -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Security deposit <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_rto_securityDeposit" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_rto_securityDeposit" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Total initial payment -->
                            <tr class="table-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end fw-bold">Total initial payment <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td id="rto_totalInitialPayment" class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td id="auto_rto_totalInitialPayment" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                        </tbody>
                    </table>

                </div>

                <!-- STOCK -->
                <div id="calculation_stock" class="row col-12 m-0 mb-3 p-0 visually-hidden">
                    
                    <table class="table bg-white border align-middle">
                        <thead class="text-center">
                            <tr><td class="fw-bold fs-4" colspan="4">Stock</td></tr>
                            <tr class="table-success">
                                <th class="col-1 m-0 p-2"></th>
                                <th class="col-5 m-0 p-2">Item</th>
                                <th class="col-4 m-0 p-2">Cost</th>
                                <th class="col-2 m-0 p-2"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- Base price -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Base price <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_stock_basePrice" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_stock_basePrice" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Total options -->
                            <tr>
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Total options <span class="fw-bold ps-2">+</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td td class="w-100"><input id="input_stock_totalOptions" type="text" class="manual-price-toggle form-control m-0 p-1 px-2 bg-warning-light text-end" value="1000.00" disabled></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_stock_totalOptions" class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                            <!-- Discount -->
                            <tr class="border-bottom border-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Discount <span class="fw-bold ps-2">-</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100"><input id="input_stock_discount" type="text" class="form-control m-0 p-1 px-2 bg-warning-light text-end"></td>
                                    </tr></table>
                                </td>
                                <td id="auto_input_stock_discount" class="fst-italic border-start text-center fs-7">[Manual]</td>
                            </tr>
                            <!-- Subtotal -->
                            <tr class="border-bottom border-dark table-dark">
                                <td class="text-center border-end">#</td>
                                <td class="text-end border-end">Retail price <span class="fw-bold ps-2">=</span></td>
                                <!-- Data goes here -->
                                <td class="text-start m-0 p-1 ps-0">
                                    <table class="table-borderless"><tr>
                                        <td><span class="fw-bold text-start px-2">$</span></td>
                                        <td class="w-100 text-end"><span id="stock_retailPrice" type="text" class="m-0 p-1 text-end">1000.00</span></td>
                                    </tr></table>
                                </td>
                                <td class="fst-italic border-start text-center fs-7">[Automatic]</td>
                            </tr>
                        </tbody>
                    </table>

                </div>

                <!-- CALCULATE BUTTON -->
                <div class="row col-12 m-0 mb-3 p-0">
                    <div class="row col-3 m-0 p-0">
                    </div>
                    <div class="row col-6 m-0 p-0 px-5">
                        <button id="calculate" class="btn btn-danger fw-bold py-2">Calculate</button>
                    </div>
                </div>

                <!-- Force calculation -->
                <div class="mb-1 fst-italic text-center">Building status is sold and Sale Processed, calculations are locked.</div>
                <div id="force_calculation" class="row col-12 m-0 p-0">
                    <div class="row col-3 m-0 p-0">
                    </div>
                    <div class="form-check col-6 m-0 py-2 px-5 bg-secondary rounded text-white fw-bold">
                        <input id="input_forceCalculation" type="checkbox" class="form-check-input">
                        <label for="input_forceCalculation" class="form-check-label">forceCalculation</label>
                    </div>
                </div>

            </div>

            <div class="col-xxl-2 col-xl-1 m-0 p-0"></div>
            
            <!-- Building layout, 
                TODO: can I move this to the other building info section?? -->
            <div class="col-xxl-2 col-xl-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-xl-10 m-0 mb-3 bg-white p-3 rounded border">

                <div id="header_buildingLayout" class="col-12 text-center fs-5 fw-bold m-0 p-0">Building layout</div>

                <div class="row col-12 m-0 p-0 text-center align-items-center">
                    <div class="row col-3 m-0 p-0">
                        <button  class="btn btn-primary fw-bold">Upload</button>
                    </div>
                    <div class="row col-6 align-items-center m-0 p-2" style="height: 100px;">
                        <div class="row col-12 bg-dark text-light rounded h-100 align-items-center m-0 p-0">
                            <div class="m-0 p-0">Diagram goes here</div>
                        </div>
                    </div>
                    <div class="row col-3 m-0 p-0">
                        <button  class="btn btn-warning fw-bold">Back to default</button>
                    </div>
                </div>
                
            </div>
        
            
        </div>

        <!-- Payments -->
        <div id="payments" class="row col-12 m-0 p-0 main-form-section">

            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Payments</div>
            <div class="col-xxl-3 col-xl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-6 col-xl-8 col-lg-10 m-0 mb-3 bg-gradient bg-success text-white p-3 rounded align-items-center">
            
                <!-- Serial -->
                <div class="col-7 m-0 p-0 fw-bold">Building serial number:</div>
                <div id="building_serial" class="col-5 rounded bg-dark text-center m-0 p-2">SLB-1234-1016-100614</div>

                <div class="row m-0 p-0 my-2 border-bottom border-1 border-white"></div>
            
                <!-- Initial payment due -->
                <div class="col-xxl-8 col-lg-8 col-md-10 col-sm-9 col-8 m-0 p-0 fw-bold">Total initial payment due:</div>
                <div id="total_initial_payment" class="col-xxl-4 col-lg-4 col-md-2 col-sm-3 col-4 text-end m-0 p-0 border-1">
                    <table class="row table-borderless m-0 p-2">
                        <thead class="m-0 p-0">
                            <tr><th class="col-4"></th><th class="col-8"></th></tr>
                        </thead>
                        <tbody class="m-0 p-0">
                            <tr class="m-0 p-0">
                                <td class="text-end m-0 p-0">$</td>
                                <td class="text-end w-100 m-0 p-0">1000.00</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                
            </div>
            <div class="col-xxl-3 col-xl-2 col-lg-1 m-0 p-0"></div>
            
            <!-- Submit new payment -->
            <div class="col-xxl-3 col-xl-2 col-lg-1 m-0 p-0"></div>
            <div class="row col-xxl-6 col-xl-8 col-lg-10 m-0 mb-3 bg-white border p-3 rounded align-items-center">
            
                <div class="row m-0 mb-2 p-0">
                    <div class="row col-4 m-0 p-0 pe-1">
                        <label for="input_transactionDate" class="form-label fw-bold m-0 p-0">Transaction date</label>
                        <input type="date" name="input_transactionDate" id="input_transactionDate" class="form-control px-2 py-1 ignore-field">
                    </div>
                    <div class="row col-4 m-0 p-0 px-1">
                        <label for="input_paymentType" class="form-label fw-bold m-0 p-0">Payment type</label>
                        <select name="input_paymentType" id="input_paymentType" class="form-select px-2 py-1 ignore-field">
                            <option value="-1" disabled selected>None</option>
                            <option value="1"></option>
                            <option value="2"></option>
                            <option value="3"></option>
                        </select>
                    </div>
                    <div class="row col-4 m-0 p-0 ps-1">
                        <label for="input_paymentAmount" class="form-label fw-bold m-0 p-0">Amount</label>
                        <input type="text" name="input_paymentAmount" id="input_paymentAmount" class="form-control px-2 py-1 ignore-field">
                    </div>
                </div>
                <div class="row col-12 m-0 p-0 justify-content-center">
                    <label for="payment_comment" class="form-label fw-bold m-0 p-0">Comment</label>
                    <textarea name="payment_comment" id="payment_comment" rows="4" class="form-control m-0 mb-3 px-2 py-1 ignore-field"></textarea>
                    <button id="payment_submit" class="col-5 fw-bold btn btn-primary ignore-field">Submit payment</button>
                </div>
                <div class="row m-0 p-0">
                    <div class="row align-items-center justify-content-center col-5 m-0 p-0 ps-1">
                    </div>
                </div>
            
            </div>

        </div>

        <!-- E-signatures | ONLY FOR CASH AND RTO -->
        <div id="esignatures" class="row col-12 m-0 p-0 main-form-section">

            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Electronic signatures</div>
            
            <div class="col-xxl-2 col-xl-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-xl-10 m-0 mb-3 bg-dark p-3 rounded border">

                <div id="signature_primary" class="row col-12 m-0 p-0 text-center align-items-center">
                    <div class="row col-5 m-0 p-0 pe-3">
                        <button class="btn btn-primary mb-2 fw-bold">Primary</button>
                        <button class="btn btn-secondary fw-bold">Clear</button>
                    </div>
                    <div class="row col-7 align-items-center m-0 p-0" style="height: 100px;">
                        <div class="row col-12 bg-white text-dark rounded h-100 align-items-center m-0 p-0">
                            <div class="m-0 p-0">Signature goes here</div>
                        </div>
                    </div>
                </div>

                <div id="signature_secondary" class="row col-12 m-0 my-2 p-0 text-center align-items-center">
                    <div class="row col-5 m-0 p-0 pe-3">
                        <button class="btn btn-primary mb-2 fw-bold">Secondary</button>
                        <button class="btn btn-secondary fw-bold">Clear</button>
                    </div>
                    <div class="row col-7 align-items-center m-0 p-0" style="height: 100px;">
                        <div class="row col-12 bg-white text-dark rounded h-100 align-items-center m-0 p-0">
                            <div class="m-0 p-0">Signature goes here</div>
                        </div>
                    </div>
                </div>

                <div id="signature_landowner" class="row col-12 m-0 p-0 text-center align-items-center">
                    <div class="row col-5 m-0 p-0 pe-3">
                        <button class="btn btn-primary mb-2 fw-bold">Landowner</button>
                        <button class="btn btn-secondary fw-bold">Clear</button>
                    </div>
                    <div class="row col-7 align-items-center m-0 p-0" style="height: 100px;">
                        <div class="row col-12 bg-white text-dark rounded h-100 align-items-center m-0 p-0">
                            <div class="m-0 p-0">Signature goes here</div>
                        </div>
                    </div>
                </div>
                
            </div>

        </div>

        <!-- Forms -->
        <div id="forms" class="row col-12 m-0 p-0 main-form-section">

            <div class="col-12 text-center fs-4 fw-bold m-0 mb-3 p-2 border-bottom border-2 border-dark">Forms</div>
            
            <div class="col-xxl-2 col-xl-1 m-0 p-0"></div>
            <div class="row col-xxl-8 col-xl-10 m-0 mb-3 p-">

                <div id="signature_primary" class="row col-12 m-0 p-0 text-center align-items-center">
                    <div class="row m-0 p-0 justify-content-center">
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-success p-2 fw-bold">Satisfaction</button>
                        </div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-success p-2 fw-bold">Consignment</button>
                        </div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-success p-2 fw-bold">Contract Form</button>
                        </div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-success p-2 fw-bold">RTO Contract</button>
                        </div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-success p-2 fw-bold">Builder Form</button>
                        </div>
                    </div>
                </div>

                <div class="row m-0 my-3 p-0 border border-1 border-dark"></div>

                <div id="signature_primary" class="row col-12 m-0 p-0 text-center align-items-center">
                    <div class="row m-0 p-0 justify-content-center">
                        <div class="row col-12 m-0 mb-2 p-0 fs-5 fw-bold text-center justify-content-center">Email</div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-primary p-2 fw-bold">Customer</button>
                        </div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-primary p-2 fw-bold">RTO Dept</button>
                        </div>
                        <div class="row col-4 m-0 p-2">
                            <button class="btn btn-primary p-2 fw-bold">Manufacturer</button>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <!-- Save -->
        <div class="row col-2 m-0 p-0 position-fixed end-0 bottom-0 m-3">
            
        </div>



    </div>

</form>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>

    <script src="https://unpkg.com/just-validate@latest/dist/just-validate.production.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>




    <script type="text/javascript" async>


        // Just-validate library stuff
        const validator = new JustValidate('#building_form');
        // For some reason, you have to tell the validator to actually submit the form when it's successfully validated
        validator.onSuccess(event => {
            document.getElementById("building_form").submit();
        });
        // Grab every single field on the page
        const allInputs = document.querySelectorAll("input, select, textarea");

        // Need to make lists of IDs to check against when adding validation to calculations table
        const calculationSectionInputs = document.querySelectorAll("#calculations input").values();
        const priceIds = [];
        const taxIds = [];
        let currentInput = calculationSectionInputs.next();
        while (currentInput.value != undefined) {
            if (currentInput.value.id.toLowerCase().includes("tax") && currentInput.value.id.toLowerCase().includes("rate")) {
                taxIds.push(currentInput.value.id);
            }
            else if (currentInput.value.type != "checkbox") {
                priceIds.push(currentInput.value.id);
            }
            currentInput = calculationSectionInputs.next();
        }

        addValidation(allInputs);

        // Made it a function in case of a need to re-validate the whole page
        // Must be passed a querySelectorAll() set of inputs to check
        // TODO: remove/add validation from calculations table fields
        function addValidation(querySelect) {

            for (let i = 0; i < querySelect.length; i++) {
        
                // Email fields (id must contain "email")
                if (querySelect.item(i).id.toLowerCase().includes("email")) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter an email',
                            },
                            {
                                rule: 'email', 
                                errorMessage: 'Incorrect format',
                            },
                        ]);                    
                    }
                    // If field is not required
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {rule: 'email', errorMessage: 'Incorrect format',},
                        ]);
                    }
                }

                // Social security number fields (id must contain "SSN")
                else if (querySelect.item(i).id.toLowerCase().includes("ssn")) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a SSN',
                            },
                            {
                                rule: 'customRegexp', 
                                value: /^[0-9]{4}$/,
                                errorMessage: 'Last 4 digits only',
                            },
                        ]);
                    }
                    // If field is not required
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp', 
                                value: /^[0-9]{4}$/,
                                errorMessage: 'Last 4 digits only',
                            },
                        ]);
                    }
                }

                // Phone number fields (id must contain "phone")
                else if (querySelect.item(i).type == "tel") {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a phone number',
                            },
                            {
                                rule: 'customRegexp', 
                                value: /^[/(][0-9]{3}[/)][ ][0-9]{3}[-][0-9]{4}$/,
                                errorMessage: 'Incorrect format',
                            },
                        ]);
                    }
                    // If field is not required
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp', 
                                value: /^[/(][0-9]{3}[/)][ ][0-9]{3}[-][0-9]{4}$/,
                                errorMessage: 'Incorrect format',
                            },
                        ]);
                    }
                }

                // Prevent select fields from having "None" selected only if required
                else if (querySelect.item(i).tagName == "SELECT" && querySelect.item(i).required) {
                    // console.log("Adding select " + querySelect.item(i).id + " to validator");
                    validator.addField('#' + querySelect.item(i).id, [
                        {
                            rule: 'minNumber',
                            value: 0,
                            errorMessage: 'Please select an option',
                        },
                    ]);
                }

                // Date fields (already formatted by date input type)
                else if (querySelect.item(i).type == "date" && querySelect.item(i).required) {
                    validator.addField('#' + querySelect.item(i).id, [
                        {
                            rule: 'required', 
                            errorMessage: 'Please enter a date',
                        },
                    ]);
                }

                // State abbreviations
                else if (querySelect.item(i).id.toLowerCase().includes("state")) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a state',
                            },
                            {
                                rule: 'customRegexp',
                                value: /^(A[KLRZ])|(C[AOT])|(D[CE])|(FL)|(GA)|(HI)|(I[ADLN])|(K[SY])|(LA)|(M[ADEINOST])|(N[CDEHJMVY])|(O[HKR])|(P[AR])|(RI)|(S[CD])|(T[NX])|(UT)|(V[AIT])|(W[AIVY])$/,
                                errorMessage: 'Enter a valid state code',
                            },
                            {
                                rule: 'maxLength',
                                value: 2,
                                errorMessage: 'Enter a 2-letter state code',
                            },
                        ]);
                    }
                    // If field is not required, only check the format
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp',
                                value: /^(A[KLRZ])|(C[AOT])|(D[CE])|(FL)|(GA)|(HI)|(I[ADLN])|(K[SY])|(LA)|(M[ADEINOST])|(N[CDEHJMVY])|(O[HKR])|(P[AR])|(RI)|(S[CD])|(T[NX])|(UT)|(V[AIT])|(W[AIVY])$/,
                                errorMessage: 'Enter a valid state code',
                            },
                            {
                                rule: 'maxLength',
                                value: 2,
                                errorMessage: 'Enter a 2-letter state code',
                            },
                        ]);
                    }
                }

                // Zip codes
                else if (querySelect.item(i).id.toLowerCase().includes("zip")) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a zip code',
                            },
                            {
                                rule: 'customRegexp',
                                value: /^([0-9]{5})([-][0-9]{4})?$/,
                                errorMessage: 'Enter a 5- or 9-digit zip',
                            },
                        ]);
                    }
                    // If field is not required, only check the format
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp',
                                value: /^([0-9]{5})([-][0-9]{4})?$/,
                                errorMessage: 'Enter a 5- or 9-digit zip',
                            },
                        ]);
                    }
                }

                // Prices elsewhere
                else if (querySelect.item(i).id.toLowerCase().includes("cost")) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a dollar amount',
                            },
                            {
                                rule: 'customRegexp',
                                value: /^([1-9]{1}[0-9]{0,})?[0]?([.][0-9]{2})?$/,
                                errorMessage: 'Enter a valid dollar amount',
                            },
                        ]);
                    }
                    // If field is not required, only check the format
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp',
                                value: /^([1-9]{1}[0-9]{0,})?[0]?([.][0-9]{2})?$/,
                                errorMessage: 'Enter a valid dollar amount',
                            },
                        ]);
                    }                    
                }

                // Tax inputs in calculations table
                // I wrote this regular expression https://regex101.com/r/9BLNOW/1
                else if (taxIds.includes(querySelect.item(i).id)) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a tax rate',
                            },
                            {
                                rule: 'customRegexp',
                                value: /(^[0]?[.]{1}[0-9]{0,10}[1-9]{1}$)|(^[1-9]{1}[0-9]{0,2}([.]{1}[0-9]{0,10}[1-9]{1})?$)/g,
                                errorMessage: 'Enter a valid tax rate',
                            },
                        ]);
                    }
                    // If field is not required, only check the format
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp',
                                value: /(^[0]?[.]{1}[0-9]{0,10}[1-9]{1}$)|(^[1-9]{1}[0-9]{0,2}([.]{1}[0-9]{0,10}[1-9]{1})?$)/g,
                                errorMessage: 'Enter a valid tax rate',
                            },
                        ]);
                    }                    
                }

                // Tax inputs in calculations table
                else if (priceIds.includes(querySelect.item(i).id)) {
                    // If field is required
                    if (querySelect.item(i).required) {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'required', 
                                errorMessage: 'Please enter a dollar amount',
                            },
                            {
                                rule: 'customRegexp',
                                value: /^([1-9]{1}[0-9]{0,})?[0]?([.][0-9]{2})?$/,
                                errorMessage: 'Enter a valid dollar amount',
                            },
                        ]);
                    }
                    // If field is not required, only check the format
                    else {
                        validator.addField('#' + querySelect.item(i).id, [
                            {
                                rule: 'customRegexp',
                                value: /^([1-9]{1}[0-9]{0,})?[0]?([.][0-9]{2})?$/,
                                errorMessage: 'Enter a valid dollar amount',
                            },
                        ]);
                    }
                }

                // All other required fields that don't need other forms of validation
                // (otherwise they won't get seen by the validator)
                else if (querySelect.item(i).required) {
                    validator.addField('#' + querySelect.item(i).id, [
                        {rule: 'required', errorMessage: 'Please enter a value',},
                    ]);
                }

            }
            
            addAutoValidateListener();
            
        }


        // For removing validation from a set of fields
        // Must be passed a querySelectAll() set of inputs
        // You might think this needs to remove event listeners, but it doesn't as a result of JS being semi-smart
        // and not adding more listeners where the named function is already attached to a listener on the element 
        function removeValidation(querySelect) {
            for (let i = 0; i < querySelect.length; i++) {
                if (validator.fieldIds.has("#" + querySelect.item(i).id)) {
                    validator.removeField("#" + querySelect.item(i).id);
                }
            }
        }
        
        // Add automatic validation listening
        function addAutoValidateListener() {
            const mapIter = validator.fieldIds.keys();
            var currentFieldId;
            for (let i = 0; i < validator.fieldIds.size; i++) {
                currentFieldId = mapIter.next().value;
                document.querySelector(currentFieldId).addEventListener("keyup", autoValidateListener);
                console.log("Adding autoValidateListener to " + currentFieldId);
            }
        }
        
        // Auto validate input when typing
        function autoValidateListener(event) {
            if (event.key != "Tab") validator.revalidateField("#" + this.id);
        }


        // AUTOFORMAT STUFF
        // Autoformat phone numbers (Sam edited a codepen)
        function phoneMask() { 
            var num = $(this).val().replace(/\D/g,''); 
            if (num.length < 4) {
                $(this).val(num.substring(0,num.length));
            }
            else if (num.length < 7) {
                $(this).val('(' + num.substring(0,3) + ') ' + num.substring(3,6));
            }
            else {
                $(this).val('(' + num.substring(0,3) + ') ' + num.substring(3,6) + '-' + num.substring(6,10)); 
            }
            validator.revalidateField("#" + this.id.toString());
        }
        $('[type="tel"]').keyup(phoneMask);

        // Autoformat zip codes
        function zipMask() { 
            var num = $(this).val().replace(/\D/g,'');
            if (num.length < 6) {
                $(this).val(num.substring(0, num.length));
            }
            else {
                $(this).val(num.substring(0,5) + "-" + num.substring(5,9)); 
            }
            validator.revalidateField("#" + this.id.toString());
        }
        $('*[id*=Zip]').keyup(zipMask);

        // Autoformat SSN (last 4 digits)
        function ssnMask() { 
            var num = $(this).val().replace(/\D/g,'');
            $(this).val(num.substring(0, 4));
            validator.revalidateField("#" + this.id.toString());
        }
        $('*[id*=SSN]').keyup(ssnMask);


        // Dropdown menu
        document.getElementsByClassName("dropdown-toggle").item(0).addEventListener("mouseover", showDropdown);
        document.getElementsByClassName("dropdown-toggle").item(0).addEventListener("mouseout", hideDropdown);
        document.getElementsByClassName("dropdown-toggle").item(0).addEventListener("click", showDropdown);
        document.getElementsByClassName("dropdown-menu").item(0).addEventListener("mouseout", hideDropdown);
        const dropdown = new bootstrap.Dropdown(document.getElementsByClassName("dropdown-menu").item(0));

        function showDropdown() {
            if (!document.getElementById("dropdown_button").classList.contains("show")) {
                document.getElementById("dropdown_button").click();
            }
        }
        function hideDropdown() {
            setTimeout(() => {
                if (document.querySelector(".dropdown-toggle:hover") == null 
                    && document.querySelector(".dropdown-menu:hover") == null 
                    && document.getElementById("dropdown_button").classList.contains("show")) {
                    document.getElementById("dropdown_button").click();
                }
            }, 100);
        }
        

        // Manual address entry
        const manualAddressChecks = document.getElementsByClassName("manual-address ignore-field");
        for (var i = 0; i < manualAddressChecks.length; i++) {
            manualAddressChecks.item(i).addEventListener("click", manualAddressClick);
        }
        function manualAddressClick() {
            if (this.checked == true) {
                document.getElementById(this.id + "SearchAddress").disabled = true;
                document.getElementById(this.id + "StreetAddress").disabled = false;
                document.getElementById(this.id + "City").disabled = false;
                document.getElementById(this.id + "State").disabled = false;
                document.getElementById(this.id + "Zip").disabled = false;
                document.getElementById(this.id + "County").disabled = false;
            }
            else {
                document.getElementById(this.id + "SearchAddress").disabled = false;
                document.getElementById(this.id + "StreetAddress").disabled = true;
                document.getElementById(this.id + "City").disabled = true;
                document.getElementById(this.id + "State").disabled = true;
                document.getElementById(this.id + "Zip").disabled = true;
                document.getElementById(this.id + "County").disabled = true;
            }
        }
        

        // Location same as customer
        // Disables location data entry and auto-updates fields based on customer address while being entered
        const locationSameAsCustomerCheck = document.getElementById("input_locationSameAsCustomer");
        locationSameAsCustomerCheck.addEventListener("click", locationSameAsCustomerClick);
        document.getElementById("input_customerSearchAddress").addEventListener("keyup", locationSameAsCustomerClick);
        document.getElementById("input_customerStreetAddress").addEventListener("keyup", locationSameAsCustomerClick);
        document.getElementById("input_customerCity").addEventListener("keyup", locationSameAsCustomerClick);
        document.getElementById("input_customerState").addEventListener("keyup", locationSameAsCustomerClick);
        document.getElementById("input_customerZip").addEventListener("keyup", locationSameAsCustomerClick);
        document.getElementById("input_customerCounty").addEventListener("keyup", locationSameAsCustomerClick);
        
        function locationSameAsCustomerClick() {
            if (locationSameAsCustomerCheck.checked == true) {
                
                // Enable first so they can be programmatically clicked
                document.getElementById("input_buildingSearchAddress").disabled = false;
                document.getElementById("input_buildingStreetAddress").disabled = false;
                document.getElementById("input_buildingCity").disabled = false;
                document.getElementById("input_building").disabled = false;
                document.getElementById("input_buildingState").disabled = false;
                document.getElementById("input_buildingZip").disabled = false;
                document.getElementById("input_buildingCounty").disabled = false;
                
                // Change values to match
                document.getElementById("input_buildingStreetAddress").value = document.getElementById("input_customerStreetAddress").value;
                document.getElementById("input_buildingCity").value = document.getElementById("input_customerCity").value;
                document.getElementById("input_buildingState").value = document.getElementById("input_customerState").value;
                document.getElementById("input_buildingZip").value = document.getElementById("input_customerZip").value;
                document.getElementById("input_buildingCounty").value = document.getElementById("input_customerCounty").value;

                // Click to trigger checkIfModified function so that they highlight if changed
                document.getElementById("input_buildingStreetAddress").click();
                document.getElementById("input_buildingCity").click();
                document.getElementById("input_buildingState").click();
                document.getElementById("input_buildingZip").click();
                document.getElementById("input_buildingCounty").click();
                
                // Then disable again finally
                document.getElementById("input_buildingSearchAddress").disabled = true;
                document.getElementById("input_buildingStreetAddress").disabled = true;
                document.getElementById("input_buildingCity").disabled = true;
                document.getElementById("input_building").disabled = true;
                document.getElementById("input_buildingState").disabled = true;
                document.getElementById("input_buildingZip").disabled = true;
                document.getElementById("input_buildingCounty").disabled = true;
            }
            else {
                manualAddressClickPassVar("input_building");
                document.getElementById("input_building").disabled = false;
            }
        }

        // Manual address entry with different ID pass
        function manualAddressClickPassVar(id) {
            if (document.getElementById(id).checked == true) {
                document.getElementById(id + "SearchAddress").disabled = true;
                document.getElementById(id + "StreetAddress").disabled = false;
                document.getElementById(id + "City").disabled = false;
                document.getElementById(id + "State").disabled = false;
                document.getElementById(id + "Zip").disabled = false;
                document.getElementById(id + "County").disabled = false;
            }
            else {
                document.getElementById(id + "SearchAddress").disabled = false;
                document.getElementById(id + "StreetAddress").disabled = true;
                document.getElementById(id + "City").disabled = true;
                document.getElementById(id + "State").disabled = true;
                document.getElementById(id + "Zip").disabled = true;
                document.getElementById(id + "County").disabled = true;
            }
        }


        // Show/hide correct transaction types and tables
        // Also remove validation from hidden calculation tables if the transaction type changes
        // (so that the form will actually submit)
        const transactionTypeRadios = document.getElementsByClassName("radio_transactionType");
        const landlordInformationInputs = document.getElementById("landlord_information").getElementsByTagName("input");
        for (var i = 0; i < transactionTypeRadios.length; i++) {
            transactionTypeRadios.item(i).addEventListener("click", transactionTypeClick);
        }
        function transactionTypeClick() {
            document.getElementById("noTransactionType").classList.add("visually-hidden");
            // CASH
            if (document.getElementById("input_cash").checked == true) {
                if (document.getElementById("calculation_cash").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_cash").classList.remove("visually-hidden");
                    addValidation(document.getElementById("calculation_cash").querySelectorAll("input"));
                }
                if (!document.getElementById("calculation_rto").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_rto").classList.add("visually-hidden");
                    removeValidation(document.getElementById("calculation_rto").querySelectorAll("input"));
                }
                if (!document.getElementById("calculation_stock").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_stock").classList.add("visually-hidden");
                    removeValidation(document.getElementById("calculation_stock").querySelectorAll("input"));
                }
                if (!document.getElementById("landlord_information").classList.contains("visually-hidden")) {
                    document.getElementById("landlord_information").classList.add("visually-hidden");
                }
                if (!document.getElementById("nav_landlord_information").classList.contains("visually-hidden")) {
                    document.getElementById("nav_landlord_information").classList.add("visually-hidden");
                }
                for (var i = 0; i < landlordInformationInputs.length; i++) {
                    landlordInformationInputs.item(i).disabled = true;
                }
                if (document.getElementById("taxExempt").classList.contains("visually-hidden")) {
                    document.getElementById("taxExempt").classList.remove("visually-hidden");
                }
            }
            // RTO
            else if (document.getElementById("input_rto").checked == true) {
                if (!document.getElementById("calculation_cash").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_cash").classList.add("visually-hidden");
                    removeValidation(document.getElementById("calculation_cash").querySelectorAll("input"));
                }
                if (document.getElementById("calculation_rto").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_rto").classList.remove("visually-hidden");
                    addValidation(document.getElementById("calculation_rto").querySelectorAll("input"));
                }
                if (!document.getElementById("calculation_stock").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_stock").classList.add("visually-hidden");
                    removeValidation(document.getElementById("calculation_stock").querySelectorAll("input"));
                }
                if (document.getElementById("landlord_information").classList.contains("visually-hidden")) {
                    document.getElementById("landlord_information").classList.remove("visually-hidden");
                }
                if (document.getElementById("nav_landlord_information").classList.contains("visually-hidden")) {
                    document.getElementById("nav_landlord_information").classList.remove("visually-hidden");
                }
                for (var i = 0; i < landlordInformationInputs.length; i++) {
                    landlordInformationInputs.item(i).disabled = false;
                }
                if (document.getElementById("taxExempt").classList.contains("visually-hidden")) {
                    document.getElementById("taxExempt").classList.remove("visually-hidden");
                }
            }
            // STOCK
            else if (document.getElementById("input_stock").checked == true) {
                if (!document.getElementById("calculation_cash").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_cash").classList.add("visually-hidden");
                    removeValidation(document.getElementById("calculation_cash").querySelectorAll("input"));
                }
                if (!document.getElementById("calculation_rto").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_rto").classList.add("visually-hidden");
                    removeValidation(document.getElementById("calculation_rto").querySelectorAll("input"));
                }
                if (document.getElementById("calculation_stock").classList.contains("visually-hidden")) {
                    document.getElementById("calculation_stock").classList.remove("visually-hidden");
                    addValidation(document.getElementById("calculation_stock").querySelectorAll("input"));
                }
                if (!document.getElementById("landlord_information").classList.contains("visually-hidden")) {
                    document.getElementById("landlord_information").classList.add("visually-hidden");
                }
                if (!document.getElementById("nav_landlord_information").classList.contains("visually-hidden")) {
                    document.getElementById("nav_landlord_information").classList.add("visually-hidden");
                }
                for (var i = 0; i < landlordInformationInputs.length; i++) {
                    landlordInformationInputs.item(i).disabled = true;
                }
                if (!document.getElementById("taxExempt").classList.contains("visually-hidden")) {
                    document.getElementById("taxExempt").classList.add("visually-hidden");
                }
            }
        }


        // Manual pricing in calculations table
        // Enable/disable fields, update automatic/manual appropriately
        const manualPricingCheck = document.getElementById("input_pricingManual");
        manualPricingCheck.addEventListener("click", manualPricingClick);
        var manualPrices = document.getElementsByClassName("manual-price-toggle");
        manualPricingClick();
        function manualPricingClick() {
            if (this.checked == true) {
                for (var i = 0; i < manualPrices.length; i++) {
                    manualPrices.item(i).disabled = false;
                    document.getElementById("auto_" + manualPrices.item(i).id).innerHTML = "[Manual]";
                }
            }
            else {
                for (var i = 0; i < manualPrices.length; i++) {
                    manualPrices.item(i).disabled = true;
                    document.getElementById("auto_" + manualPrices.item(i).id).innerHTML = "[Automatic]";
                }
            }
        }


        // SHOW/HIDE SECTIONS
        const hiddenSections = document.getElementsByClassName("hidden-section");
        for (let i = 0; i < hiddenSections.length; i++) {
            hiddenSections.item(i).addEventListener("click", showHideSectionsClick);
        }
        showHideAllSections();

        // Dynamically show/hide sections that have values in them on page load/refresh
        function showHideAllSections() {
            for (let i = 0; i < hiddenSections.length; i++) {                
                let currentValues = document.getElementById("container_" + hiddenSections.item(i).id).querySelectorAll("input").values();
                let currentField = currentValues.next();
                while (currentField.value != undefined) {
                    if (currentField.value.value != '' && currentField.value.type != "checkbox") {
                        hiddenSections.item(i).checked = true;
                        document.getElementById("container_" + hiddenSections.item(i).id).classList.remove("visually-hidden");
                        break;
                    }
                    else {
                        currentField = currentValues.next();
                    }
                }
            }
        }


        // CHANGE TRACKING
        const initialValuesCol1 = [];
        const initialValuesCol2 = [];
        var editHistory = [];

        // Save initial values and add events
        for (let i = 0; i < allInputs.length; i++) {

            // Don't include ignored fields
            if (!allInputs.item(i).classList.contains("ignore-field")) {                
                if (allInputs.item(i).type == "checkbox" || allInputs.item(i).type == "radio") {
                    allInputs.item(i).addEventListener("click", (event) => checkIfModified(event));
                    initialValuesCol2.push(allInputs.item(i).checked);
                }
                else if (allInputs.item(i).type == "date") {
                    allInputs.item(i).addEventListener("change", (event) => checkIfModified(event));
                    allInputs.item(i).addEventListener("keyup", (event) => checkIfModified(event));
                    initialValuesCol2.push(allInputs.item(i).value);
                }
                else {
                    allInputs.item(i).addEventListener("keyup", (event) => checkIfModified(event));
                    allInputs.item(i).addEventListener("change", (event) => checkIfModified(event));
                    allInputs.item(i).addEventListener("click", (event) => checkIfModified(event));
                    initialValuesCol2.push(allInputs.item(i).value);
                }
                initialValuesCol1.push(allInputs.item(i).id);
            }

        }
        
        // Show/hide sections of corresponding container to a checkbox
        function showHideSectionsClick() {

            // Show/hide corresponding sections
            if (this.checked == true) {
                if (document.getElementById("container_" + this.id).classList.contains("visually-hidden")) {
                    document.getElementById("container_" + this.id).classList.remove("visually-hidden");
                }
            }
            else {
                if (!document.getElementById("container_" + this.id).classList.contains("visually-hidden")) {
                    document.getElementById("container_" + this.id).classList.add("visually-hidden");
                }
            }

            // Add required tags to elements
            var fieldsContainer = document.getElementById("container_" + this.id);
            
            // Make sure there are any required fields inside of shown/hidden container
            if (fieldsContainer.getElementsByClassName("required-toggle").item(0) != null) {

                var requiredFields = document.getElementsByClassName("required-toggle");

                // When container is open, require all corresponding fields
                if (this.checked) {
                    for (let i = 0; i < requiredFields.length; i++) {
                        requiredFields.item(i).required = true;
                    }
                }
                // When container is closed, remove requirement for all corresponding fields
                else {
                    for (let i = 0; i < requiredFields.length; i++) {
                        requiredFields.item(i).required = false;
                    }
                }
            }

            // Remove changes from edit history when field is closed
            // No save necessary since fields will be cleared if form is exited or save is pressed elsewhere
            let fields = fieldsContainer.getElementsByTagName("input");
            // Check if there are any fields to track changes of
            if (fields.item(0) != null) {
                // When section is shown add fields to edit history tracking
                // and fields to validator
                if (this.checked) {
                    addValidation(fieldsContainer.querySelectorAll("input"));
                    for (let i = 0; i < fields.length; i++) {                        
                        if (fields.item(i).type != "checkbox") {
                            if (fields.item(i).disabled) {
                                fields.item(i).disabled = false;
                                fields.item(i).click();
                                fields.item(i).disabled = true;
                            }
                            else {
                                fields.item(i).click();
                            }
                        }
                        
                    }
                }
                // When section is hidden, remove inputs in this section from the edit history
                // and remove validation fields from validator
                else {
                    removeValidation(fieldsContainer.querySelectorAll("input"));

                    for (let i = 0; i < fields.length; i++) {
                        if (editHistory.includes(fields.item(i).id)) {
                            editHistory.splice(editHistory.indexOf(fields.item(i).id), 1);
                        }
                    }
                    checkEditHistory();
                }
            }


        }

        // Listener function
        var proceed;
        function checkIfModified(event) {

            // console.log(event.target);
            // console.log(event.target.id);
            // console.log(event.type);
            proceed = false;

            if (event.target.classList.contains("ignore-field")) {
                proceed = false;
            }
            else if (event.type == "keyup") {
                // Have to ignore Tab keyups for some weird situations
                if (event.code == "Tab") {
                    proceed = false;
                }
                else {
                    proceed = true;
                }
            }
            else {
                proceed = true;
            }
            
            if (proceed) {

                // Checkboxes are weird
                if (event.target.type == "checkbox") {

                    if (initialValuesCol2[initialValuesCol1.indexOf(event.target.id)] != event.target.checked
                        && !editHistory.includes(event.target.id)) {
                        editHistory.push(event.target.id);
                        event.target.classList.add("edited");
                    }
                    else if (initialValuesCol2[initialValuesCol1.indexOf(event.target.id)] != event.target.checked
                        && editHistory.includes(event.target.id)) {
                        // Do nothing
                    }
                    else if (editHistory.includes(event.target.id)) {
                        editHistory.splice(editHistory.indexOf(event.target.id), 1);
                        event.target.classList.remove("edited");
                    }

                }
                // Radios are even weirder
                else if (event.target.type == "radio") {

                    if (initialValuesCol2[initialValuesCol1.indexOf(event.target.id)] != event.target.checked
                        && !editHistory.includes(event.target.name)) {
                        editHistory.push(event.target.name);
                        document.getElementById(event.target.name).classList.add("edited");
                    }
                    else if (initialValuesCol2[initialValuesCol1.indexOf(event.target.id)] != event.target.checked
                        && editHistory.includes(event.target.name)) {
                        // Do nothing
                    }
                    else if (editHistory.includes(event.target.name)) {
                        editHistory.splice(editHistory.indexOf(event.target.name), 1);
                        document.getElementById(event.target.name).classList.remove("edited");
                    }

                }
                // Other elements are fine
                else {

                    if (initialValuesCol2[initialValuesCol1.indexOf(event.target.id)] != event.target.value
                        && !editHistory.includes(event.target.id)) {
                        editHistory.push(event.target.id);
                        event.target.classList.add("edited");
                    }
                    else if (initialValuesCol2[initialValuesCol1.indexOf(event.target.id)] != event.target.value 
                        && editHistory.includes(event.target.id)) {
                        // Do nothing
                    }
                    else if (editHistory.includes(event.target.id)) {
                        editHistory.splice(editHistory.indexOf(event.target.id), 1);
                        event.target.classList.remove("edited");
                    }

                }
                checkEditHistory();
            }
        }

        // Check if any edits are remaining
        function checkEditHistory() {
            // console.log(editHistory);
            if (editHistory.length == 0) {
                document.getElementById("save_button").disabled = true;
                document.getElementById("save_button").innerHTML = "No changes";
            }
            else {
                document.getElementById("save_button").disabled = false;
                document.getElementById("save_button").innerHTML = "Save changes";
            }
        }
        

        // Save with ctrl + s
        document.addEventListener("keydown", e => {
            if ((e.ctrlKey && e.key === 's') || (e.metaKey && e.key === 's')) {
                // Prevent the Save dialog to open
                e.preventDefault();
                // Place your code here
                document.getElementById("save_button").click();
            }
        });


        // TODO: Make sure to clear data from hidden input fields like references and customers when submitting
        // I.e., clear the secondary references and customers if there are none

        
    </script>

</body>

</html>